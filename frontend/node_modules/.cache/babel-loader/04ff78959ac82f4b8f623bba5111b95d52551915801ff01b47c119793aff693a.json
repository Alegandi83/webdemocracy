{"ast":null,"code":"var _jsxFileName = \"/Users/alessandro.gandini/code/survey-app/frontend/src/pages/SurveyDetail.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { ArrowLeft, Vote, BarChart2, CheckCircle2, Calendar, MessageSquare, PlusCircle } from 'lucide-react';\nimport { QuestionType } from '../types';\nimport { surveyApi } from '../services/api';\nimport RatingInput from '../components/RatingInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SurveyDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [survey, setSurvey] = useState(null);\n\n  // Stati per diversi tipi di voto\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const [ratingValue, setRatingValue] = useState(null);\n  const [numericValue, setNumericValue] = useState('');\n  const [dateValue, setDateValue] = useState('');\n  const [textValue, setTextValue] = useState('');\n  const [customOptionText, setCustomOptionText] = useState('');\n  const [showCustomOption, setShowCustomOption] = useState(false);\n  const [comment, setComment] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [voting, setVoting] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // Stati per il gradimento\n  const [userLike, setUserLike] = useState(null);\n  const [likeRating, setLikeRating] = useState(0);\n  const [likeSuccess, setLikeSuccess] = useState(null);\n  useEffect(() => {\n    if (id) {\n      loadSurvey(parseInt(id));\n    }\n  }, [id]);\n  const loadSurvey = async surveyId => {\n    try {\n      setLoading(true);\n      const surveyData = await surveyApi.getSurvey(surveyId);\n      setSurvey(surveyData);\n\n      // Carica il gradimento dell'utente se esiste\n      const existingLike = await surveyApi.getUserLike(surveyId);\n      if (existingLike) {\n        setUserLike(existingLike);\n        setLikeRating(existingLike.rating);\n      }\n      setError(null);\n    } catch (err) {\n      setError('Errore nel caricamento del sondaggio');\n      console.error('Errore:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const toggleOption = optionId => {\n    if (!survey) return;\n    if (survey.question_type === QuestionType.SINGLE_CHOICE) {\n      setSelectedOptions([optionId]);\n    } else if (survey.question_type === QuestionType.MULTIPLE_CHOICE) {\n      if (selectedOptions.includes(optionId)) {\n        setSelectedOptions(selectedOptions.filter(id => id !== optionId));\n      } else {\n        setSelectedOptions([...selectedOptions, optionId]);\n      }\n    }\n  };\n  const handleVote = async () => {\n    if (!survey) return;\n    try {\n      setVoting(true);\n      setError(null);\n      const voteData = {};\n\n      // Costruisci il voto in base al tipo\n      if (survey.question_type === QuestionType.SINGLE_CHOICE || survey.question_type === QuestionType.MULTIPLE_CHOICE) {\n        if (customOptionText.trim()) {\n          voteData.custom_option_text = customOptionText.trim();\n        } else if (selectedOptions.length === 0) {\n          setError('Seleziona almeno un\\'opzione o inserisci una nuova');\n          setVoting(false);\n          return;\n        } else {\n          voteData.option_ids = selectedOptions;\n        }\n      } else if (survey.question_type === QuestionType.RATING) {\n        if (!ratingValue) {\n          setError('Seleziona una valutazione');\n          setVoting(false);\n          return;\n        }\n        voteData.numeric_value = ratingValue;\n      } else if (survey.question_type === QuestionType.SCALE || survey.question_type === QuestionType.NUMBER) {\n        if (!numericValue) {\n          setError('Inserisci un valore numerico');\n          setVoting(false);\n          return;\n        }\n        voteData.numeric_value = parseFloat(numericValue);\n      } else if (survey.question_type === QuestionType.DATE) {\n        if (!dateValue) {\n          setError('Seleziona una data');\n          setVoting(false);\n          return;\n        }\n        voteData.date_value = dateValue;\n      } else if (survey.question_type === QuestionType.OPEN_TEXT) {\n        if (!textValue.trim()) {\n          setError('Inserisci una risposta');\n          setVoting(false);\n          return;\n        }\n        voteData.comment = textValue.trim();\n      }\n\n      // Aggiungi commento se presente (sempre opzionale)\n      if (comment.trim()) {\n        voteData.comment = comment.trim();\n      }\n      await surveyApi.voteSurvey(survey.id, voteData);\n      setSuccess('Voto registrato con successo!');\n      setTimeout(() => {\n        navigate(`/survey/${survey.id}/results`);\n      }, 2000);\n    } catch (err) {\n      var _err$response;\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 400) {\n        setError(err.response.data.detail || 'Errore nella registrazione del voto');\n      } else {\n        setError('Errore nella registrazione del voto');\n      }\n      console.error('Errore:', err);\n    } finally {\n      setVoting(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Caricamento sondaggio...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 12\n    }, this);\n  }\n  if (error && !survey) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"btn btn-primary\",\n        style: {\n          marginLeft: '1rem'\n        },\n        children: \"Torna alla Lista\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this);\n  }\n  if (!survey) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '2rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"btn btn-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), \"Torna alla Lista\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"card-title\",\n          children: survey.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), survey.description && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '0.5rem',\n            alignItems: 'flex-start',\n            marginTop: '0.75rem',\n            padding: '0.875rem',\n            background: '#f8fafc',\n            borderRadius: '8px',\n            border: '1px solid #e2e8f0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n            size: 16,\n            style: {\n              color: '#6366f1',\n              flexShrink: 0,\n              marginTop: '0.125rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#475569',\n              margin: 0,\n              lineHeight: 1.5,\n              fontSize: '0.9375rem',\n              fontWeight: '400'\n            },\n            children: survey.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), survey.tags && survey.tags.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '0.5rem',\n            flexWrap: 'wrap',\n            marginTop: '0.75rem'\n          },\n          children: survey.tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              padding: '0.25rem 0.75rem',\n              borderRadius: '6px',\n              background: tag.color,\n              color: 'white',\n              fontSize: '0.75rem',\n              fontWeight: '500'\n            },\n            children: tag.name\n          }, tag.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.375rem',\n            marginTop: '0.75rem',\n            color: '#94a3b8',\n            fontSize: '0.8125rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Creato il: \", new Date(survey.created_at).toLocaleDateString('it-IT', {\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric'\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), survey.expires_at && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '0.5rem',\n            padding: '0.5rem 0.75rem',\n            background: '#fef3c7',\n            border: '1px solid #fbbf24',\n            borderRadius: '6px',\n            color: '#92400e',\n            fontSize: '0.8125rem',\n            fontWeight: '500'\n          },\n          children: [\"\\u23F0 Scadenza: \", new Date(survey.expires_at).toLocaleDateString('it-IT', {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), (survey.question_type === QuestionType.SINGLE_CHOICE || survey.question_type === QuestionType.MULTIPLE_CHOICE) && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '1rem',\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            color: '#0f172a',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.375rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Vote, {\n            size: 18,\n            style: {\n              color: '#6366f1'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), survey.question_type === QuestionType.MULTIPLE_CHOICE ? 'Seleziona una o più risposte:' : 'Seleziona la tua risposta:']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), survey.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `option-item ${selectedOptions.includes(option.id) ? 'selected' : ''}`,\n          onClick: () => toggleOption(option.id),\n          style: {\n            animationDelay: `${index * 0.1}s`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: survey.question_type === QuestionType.MULTIPLE_CHOICE ? 'checkbox' : 'radio',\n            className: \"option-radio\",\n            name: \"survey-option\",\n            value: option.id,\n            checked: selectedOptions.includes(option.id),\n            onChange: () => toggleOption(option.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"option-text\",\n            children: option.option_text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this), selectedOptions.includes(option.id) && /*#__PURE__*/_jsxDEV(CheckCircle2, {\n            size: 20,\n            style: {\n              color: '#6366f1',\n              marginLeft: 'auto'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 19\n          }, this)]\n        }, option.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 15\n        }, this)), survey.allow_custom_options && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1rem'\n          },\n          children: !showCustomOption ? /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setShowCustomOption(true),\n            className: \"btn btn-secondary\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 21\n            }, this), \"Aggiungi una Nuova Opzione\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '1rem',\n              background: '#f8fafc',\n              borderRadius: '8px',\n              border: '2px dashed #6366f1'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: '0.875rem',\n                fontWeight: '500',\n                color: '#475569',\n                marginBottom: '0.5rem'\n              },\n              children: \"La tua opzione personalizzata:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: customOptionText,\n              onChange: e => setCustomOptionText(e.target.value),\n              placeholder: \"Inserisci la tua opzione...\",\n              className: \"form-input\",\n              style: {\n                margin: 0,\n                marginBottom: '0.5rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setShowCustomOption(false);\n                setCustomOptionText('');\n              },\n              style: {\n                fontSize: '0.8125rem',\n                color: '#64748b',\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n                textDecoration: 'underline'\n              },\n              children: \"Annulla\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this), survey.question_type === QuestionType.RATING && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '1.5rem',\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            color: '#0f172a'\n          },\n          children: [\"Valuta da \", survey.min_value, \" a \", survey.max_value, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RatingInput, {\n          value: ratingValue,\n          onChange: setRatingValue,\n          max: survey.max_value || 5,\n          icon: survey.rating_icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }, this), survey.question_type === QuestionType.SCALE && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '1rem',\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            color: '#0f172a'\n          },\n          children: [\"Seleziona un valore da \", survey.min_value, \" a \", survey.max_value, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this), survey.scale_min_label && survey.scale_max_label && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '0.75rem',\n            fontSize: '0.875rem',\n            color: '#64748b'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: survey.scale_min_label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: survey.scale_max_label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: survey.min_value,\n          max: survey.max_value,\n          value: numericValue || survey.min_value,\n          onChange: e => setNumericValue(e.target.value),\n          style: {\n            width: '100%',\n            height: '8px',\n            borderRadius: '4px',\n            appearance: 'none',\n            background: '#e2e8f0',\n            outline: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            marginTop: '1rem',\n            fontSize: '2rem',\n            fontWeight: '700',\n            color: '#6366f1'\n          },\n          children: numericValue || survey.min_value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }, this), survey.question_type === QuestionType.NUMBER && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '1rem',\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            color: '#0f172a'\n          },\n          children: \"Inserisci un valore numerico:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: numericValue,\n          onChange: e => setNumericValue(e.target.value),\n          className: \"form-input\",\n          placeholder: \"Es: 42\",\n          style: {\n            fontSize: '1.25rem',\n            textAlign: 'center'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 11\n      }, this), survey.question_type === QuestionType.DATE && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '1rem',\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            color: '#0f172a'\n          },\n          children: \"Seleziona una data:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: dateValue,\n          onChange: e => setDateValue(e.target.value),\n          className: \"form-input\",\n          style: {\n            fontSize: '1.125rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 11\n      }, this), survey.question_type === QuestionType.OPEN_TEXT && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '1rem',\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            color: '#0f172a'\n          },\n          children: \"Scrivi la tua risposta:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: textValue,\n          onChange: e => setTextValue(e.target.value),\n          className: \"form-textarea\",\n          placeholder: \"Inserisci qui la tua risposta...\",\n          rows: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 11\n      }, this), survey.question_type !== QuestionType.OPEN_TEXT && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            fontSize: '0.9375rem',\n            fontWeight: '500',\n            color: '#475569',\n            marginBottom: '0.5rem'\n          },\n          children: [\"Commento \", survey.require_comment && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#6366f1'\n            },\n            children: \"(suggerito)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: comment,\n          onChange: e => setComment(e.target.value),\n          className: \"form-textarea\",\n          placeholder: 'Aggiungi un commento (opzionale)...',\n          rows: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '2rem',\n          display: 'flex',\n          gap: '0.5rem',\n          paddingTop: '1.5rem',\n          borderTop: '1px solid #e2e8f0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleVote,\n          className: \"btn btn-primary\",\n          disabled: voting,\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Vote, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this), voting ? 'Votando...' : 'Conferma Voto']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(`/survey/${survey.id}/results`),\n          className: \"btn btn-secondary\",\n          children: [/*#__PURE__*/_jsxDEV(BarChart2, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this), \"Vedi Risultati\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n};\n_s(SurveyDetail, \"jdOqG3rQP4LwA48t1aCchm/3sd8=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = SurveyDetail;\nexport default SurveyDetail;\nvar _c;\n$RefreshReg$(_c, \"SurveyDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","ArrowLeft","Vote","BarChart2","CheckCircle2","Calendar","MessageSquare","PlusCircle","QuestionType","surveyApi","RatingInput","jsxDEV","_jsxDEV","SurveyDetail","_s","id","navigate","survey","setSurvey","selectedOptions","setSelectedOptions","ratingValue","setRatingValue","numericValue","setNumericValue","dateValue","setDateValue","textValue","setTextValue","customOptionText","setCustomOptionText","showCustomOption","setShowCustomOption","comment","setComment","loading","setLoading","voting","setVoting","error","setError","success","setSuccess","userLike","setUserLike","likeRating","setLikeRating","likeSuccess","setLikeSuccess","loadSurvey","parseInt","surveyId","surveyData","getSurvey","existingLike","getUserLike","rating","err","console","toggleOption","optionId","question_type","SINGLE_CHOICE","MULTIPLE_CHOICE","includes","filter","handleVote","voteData","trim","custom_option_text","length","option_ids","RATING","numeric_value","SCALE","NUMBER","parseFloat","DATE","date_value","OPEN_TEXT","voteSurvey","setTimeout","_err$response","response","status","data","detail","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","marginLeft","marginBottom","size","title","description","display","gap","alignItems","marginTop","padding","background","borderRadius","border","color","flexShrink","margin","lineHeight","fontSize","fontWeight","tags","flexWrap","map","tag","name","Date","created_at","toLocaleDateString","year","month","day","expires_at","hour","minute","options","option","index","animationDelay","type","value","checked","onChange","option_text","allow_custom_options","width","e","target","placeholder","cursor","textDecoration","min_value","max_value","max","icon","rating_icon","scale_min_label","scale_max_label","justifyContent","min","height","appearance","outline","textAlign","rows","require_comment","paddingTop","borderTop","disabled","flex","_c","$RefreshReg$"],"sources":["/Users/alessandro.gandini/code/survey-app/frontend/src/pages/SurveyDetail.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { ArrowLeft, Vote, BarChart2, CheckCircle2, Calendar, MessageSquare, PlusCircle, ThumbsUp } from 'lucide-react';\nimport { Survey, QuestionType, VoteCreate, SurveyLike } from '../types';\nimport { surveyApi } from '../services/api';\nimport RatingInput from '../components/RatingInput';\nimport LikeRating from '../components/LikeRating';\nimport SidebarLayout from '../components/SidebarLayout';\n\nconst SurveyDetail: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const [survey, setSurvey] = useState<Survey | null>(null);\n  \n  // Stati per diversi tipi di voto\n  const [selectedOptions, setSelectedOptions] = useState<number[]>([]);\n  const [ratingValue, setRatingValue] = useState<number | null>(null);\n  const [numericValue, setNumericValue] = useState<string>('');\n  const [dateValue, setDateValue] = useState<string>('');\n  const [textValue, setTextValue] = useState<string>('');\n  const [customOptionText, setCustomOptionText] = useState<string>('');\n  const [showCustomOption, setShowCustomOption] = useState(false);\n  const [comment, setComment] = useState<string>('');\n  \n  const [loading, setLoading] = useState(true);\n  const [voting, setVoting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  \n  // Stati per il gradimento\n  const [userLike, setUserLike] = useState<SurveyLike | null>(null);\n  const [likeRating, setLikeRating] = useState<number>(0);\n  const [likeSuccess, setLikeSuccess] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (id) {\n      loadSurvey(parseInt(id));\n    }\n  }, [id]);\n\n  const loadSurvey = async (surveyId: number) => {\n    try {\n      setLoading(true);\n      const surveyData = await surveyApi.getSurvey(surveyId);\n      setSurvey(surveyData);\n      \n      // Carica il gradimento dell'utente se esiste\n      const existingLike = await surveyApi.getUserLike(surveyId);\n      if (existingLike) {\n        setUserLike(existingLike);\n        setLikeRating(existingLike.rating);\n      }\n      \n      setError(null);\n    } catch (err) {\n      setError('Errore nel caricamento del sondaggio');\n      console.error('Errore:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const toggleOption = (optionId: number) => {\n    if (!survey) return;\n\n    if (survey.question_type === QuestionType.SINGLE_CHOICE) {\n      setSelectedOptions([optionId]);\n    } else if (survey.question_type === QuestionType.MULTIPLE_CHOICE) {\n      if (selectedOptions.includes(optionId)) {\n        setSelectedOptions(selectedOptions.filter(id => id !== optionId));\n      } else {\n        setSelectedOptions([...selectedOptions, optionId]);\n      }\n    }\n  };\n\n  const handleVote = async () => {\n    if (!survey) return;\n\n    try {\n      setVoting(true);\n      setError(null);\n\n      const voteData: VoteCreate = {};\n\n      // Costruisci il voto in base al tipo\n      if (survey.question_type === QuestionType.SINGLE_CHOICE || \n          survey.question_type === QuestionType.MULTIPLE_CHOICE) {\n        \n        if (customOptionText.trim()) {\n          voteData.custom_option_text = customOptionText.trim();\n        } else if (selectedOptions.length === 0) {\n          setError('Seleziona almeno un\\'opzione o inserisci una nuova');\n          setVoting(false);\n          return;\n        } else {\n          voteData.option_ids = selectedOptions;\n        }\n      } else if (survey.question_type === QuestionType.RATING) {\n        if (!ratingValue) {\n          setError('Seleziona una valutazione');\n          setVoting(false);\n          return;\n        }\n        voteData.numeric_value = ratingValue;\n      } else if (survey.question_type === QuestionType.SCALE || \n                 survey.question_type === QuestionType.NUMBER) {\n        if (!numericValue) {\n          setError('Inserisci un valore numerico');\n          setVoting(false);\n          return;\n        }\n        voteData.numeric_value = parseFloat(numericValue);\n      } else if (survey.question_type === QuestionType.DATE) {\n        if (!dateValue) {\n          setError('Seleziona una data');\n          setVoting(false);\n          return;\n        }\n        voteData.date_value = dateValue;\n      } else if (survey.question_type === QuestionType.OPEN_TEXT) {\n        if (!textValue.trim()) {\n          setError('Inserisci una risposta');\n          setVoting(false);\n          return;\n        }\n        voteData.comment = textValue.trim();\n      }\n\n      // Aggiungi commento se presente (sempre opzionale)\n      if (comment.trim()) {\n        voteData.comment = comment.trim();\n      }\n      \n      await surveyApi.voteSurvey(survey.id, voteData);\n      setSuccess('Voto registrato con successo!');\n      \n      setTimeout(() => {\n        navigate(`/survey/${survey.id}/results`);\n      }, 2000);\n      \n    } catch (err: any) {\n      if (err.response?.status === 400) {\n        setError(err.response.data.detail || 'Errore nella registrazione del voto');\n      } else {\n        setError('Errore nella registrazione del voto');\n      }\n      console.error('Errore:', err);\n    } finally {\n      setVoting(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Caricamento sondaggio...</div>;\n  }\n\n  if (error && !survey) {\n    return (\n      <div className=\"error\">\n        {error}\n        <button onClick={() => navigate('/')} className=\"btn btn-primary\" style={{ marginLeft: '1rem' }}>\n          Torna alla Lista\n        </button>\n      </div>\n    );\n  }\n\n  if (!survey) {\n    return null;\n  }\n\n  return (\n    <div>\n      <div style={{ marginBottom: '2rem' }}>\n        <button onClick={() => navigate('/')} className=\"btn btn-secondary\">\n          <ArrowLeft size={18} />\n          Torna alla Lista\n        </button>\n      </div>\n\n      {error && <div className=\"error\">{error}</div>}\n      {success && <div className=\"success\">{success}</div>}\n\n      <div className=\"card\">\n        <div style={{ marginBottom: '2rem' }}>\n          <h1 className=\"card-title\">{survey.title}</h1>\n          \n          {survey.description && (\n            <div style={{\n              display: 'flex',\n              gap: '0.5rem',\n              alignItems: 'flex-start',\n              marginTop: '0.75rem',\n              padding: '0.875rem',\n              background: '#f8fafc',\n              borderRadius: '8px',\n              border: '1px solid #e2e8f0'\n            }}>\n              <MessageSquare size={16} style={{\n                color: '#6366f1',\n                flexShrink: 0,\n                marginTop: '0.125rem'\n              }} />\n              <p style={{\n                color: '#475569',\n                margin: 0,\n                lineHeight: 1.5,\n                fontSize: '0.9375rem',\n                fontWeight: '400'\n              }}>\n                {survey.description}\n              </p>\n            </div>\n          )}\n\n          {survey.tags && survey.tags.length > 0 && (\n            <div style={{\n              display: 'flex',\n              gap: '0.5rem',\n              flexWrap: 'wrap',\n              marginTop: '0.75rem'\n            }}>\n              {survey.tags.map(tag => (\n                <span\n                  key={tag.id}\n                  style={{\n                    padding: '0.25rem 0.75rem',\n                    borderRadius: '6px',\n                    background: tag.color,\n                    color: 'white',\n                    fontSize: '0.75rem',\n                    fontWeight: '500'\n                  }}\n                >\n                  {tag.name}\n                </span>\n              ))}\n            </div>\n          )}\n\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.375rem',\n            marginTop: '0.75rem',\n            color: '#94a3b8',\n            fontSize: '0.8125rem'\n          }}>\n            <Calendar size={14} />\n            <span>\n              Creato il: {new Date(survey.created_at).toLocaleDateString('it-IT', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n              })}\n            </span>\n          </div>\n\n          {survey.expires_at && (\n            <div style={{\n              marginTop: '0.5rem',\n              padding: '0.5rem 0.75rem',\n              background: '#fef3c7',\n              border: '1px solid #fbbf24',\n              borderRadius: '6px',\n              color: '#92400e',\n              fontSize: '0.8125rem',\n              fontWeight: '500'\n            }}>\n              ⏰ Scadenza: {new Date(survey.expires_at).toLocaleDateString('it-IT', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric',\n                hour: '2-digit',\n                minute: '2-digit'\n              })}\n            </div>\n          )}\n        </div>\n\n        {/* Single/Multiple Choice */}\n        {(survey.question_type === QuestionType.SINGLE_CHOICE || \n          survey.question_type === QuestionType.MULTIPLE_CHOICE) && (\n          <div>\n            <h3 style={{\n              marginBottom: '1rem',\n              fontSize: '1.125rem',\n              fontWeight: '600',\n              color: '#0f172a',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.375rem'\n            }}>\n              <Vote size={18} style={{ color: '#6366f1' }} />\n              {survey.question_type === QuestionType.MULTIPLE_CHOICE \n                ? 'Seleziona una o più risposte:' \n                : 'Seleziona la tua risposta:'}\n            </h3>\n\n            {survey.options.map((option, index) => (\n              <div\n                key={option.id}\n                className={`option-item ${selectedOptions.includes(option.id) ? 'selected' : ''}`}\n                onClick={() => toggleOption(option.id)}\n                style={{\n                  animationDelay: `${index * 0.1}s`\n                }}\n              >\n                <input\n                  type={survey.question_type === QuestionType.MULTIPLE_CHOICE ? 'checkbox' : 'radio'}\n                  className=\"option-radio\"\n                  name=\"survey-option\"\n                  value={option.id}\n                  checked={selectedOptions.includes(option.id)}\n                  onChange={() => toggleOption(option.id)}\n                />\n                <span className=\"option-text\">{option.option_text}</span>\n                {selectedOptions.includes(option.id) && (\n                  <CheckCircle2\n                    size={20}\n                    style={{\n                      color: '#6366f1',\n                      marginLeft: 'auto'\n                    }}\n                  />\n                )}\n              </div>\n            ))}\n\n            {/* Custom Option */}\n            {survey.allow_custom_options && (\n              <div style={{ marginTop: '1rem' }}>\n                {!showCustomOption ? (\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowCustomOption(true)}\n                    className=\"btn btn-secondary\"\n                    style={{ width: '100%' }}\n                  >\n                    <PlusCircle size={18} />\n                    Aggiungi una Nuova Opzione\n                  </button>\n                ) : (\n                  <div style={{\n                    padding: '1rem',\n                    background: '#f8fafc',\n                    borderRadius: '8px',\n                    border: '2px dashed #6366f1'\n                  }}>\n                    <label style={{\n                      display: 'block',\n                      fontSize: '0.875rem',\n                      fontWeight: '500',\n                      color: '#475569',\n                      marginBottom: '0.5rem'\n                    }}>\n                      La tua opzione personalizzata:\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={customOptionText}\n                      onChange={(e) => setCustomOptionText(e.target.value)}\n                      placeholder=\"Inserisci la tua opzione...\"\n                      className=\"form-input\"\n                      style={{ margin: 0, marginBottom: '0.5rem' }}\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setShowCustomOption(false);\n                        setCustomOptionText('');\n                      }}\n                      style={{\n                        fontSize: '0.8125rem',\n                        color: '#64748b',\n                        background: 'none',\n                        border: 'none',\n                        cursor: 'pointer',\n                        textDecoration: 'underline'\n                      }}\n                    >\n                      Annulla\n                    </button>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Rating */}\n        {survey.question_type === QuestionType.RATING && (\n          <div>\n            <h3 style={{\n              marginBottom: '1.5rem',\n              fontSize: '1.125rem',\n              fontWeight: '600',\n              color: '#0f172a'\n            }}>\n              Valuta da {survey.min_value} a {survey.max_value}:\n            </h3>\n            <RatingInput\n              value={ratingValue}\n              onChange={setRatingValue}\n              max={survey.max_value || 5}\n              icon={survey.rating_icon}\n            />\n          </div>\n        )}\n\n        {/* Scale */}\n        {survey.question_type === QuestionType.SCALE && (\n          <div>\n            <h3 style={{\n              marginBottom: '1rem',\n              fontSize: '1.125rem',\n              fontWeight: '600',\n              color: '#0f172a'\n            }}>\n              Seleziona un valore da {survey.min_value} a {survey.max_value}:\n            </h3>\n            {survey.scale_min_label && survey.scale_max_label && (\n              <div style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginBottom: '0.75rem',\n                fontSize: '0.875rem',\n                color: '#64748b'\n              }}>\n                <span>{survey.scale_min_label}</span>\n                <span>{survey.scale_max_label}</span>\n              </div>\n            )}\n            <input\n              type=\"range\"\n              min={survey.min_value}\n              max={survey.max_value}\n              value={numericValue || survey.min_value}\n              onChange={(e) => setNumericValue(e.target.value)}\n              style={{\n                width: '100%',\n                height: '8px',\n                borderRadius: '4px',\n                appearance: 'none',\n                background: '#e2e8f0',\n                outline: 'none'\n              }}\n            />\n            <div style={{\n              textAlign: 'center',\n              marginTop: '1rem',\n              fontSize: '2rem',\n              fontWeight: '700',\n              color: '#6366f1'\n            }}>\n              {numericValue || survey.min_value}\n            </div>\n          </div>\n        )}\n\n        {/* Number */}\n        {survey.question_type === QuestionType.NUMBER && (\n          <div>\n            <h3 style={{\n              marginBottom: '1rem',\n              fontSize: '1.125rem',\n              fontWeight: '600',\n              color: '#0f172a'\n            }}>\n              Inserisci un valore numerico:\n            </h3>\n            <input\n              type=\"number\"\n              value={numericValue}\n              onChange={(e) => setNumericValue(e.target.value)}\n              className=\"form-input\"\n              placeholder=\"Es: 42\"\n              style={{ fontSize: '1.25rem', textAlign: 'center' }}\n            />\n          </div>\n        )}\n\n        {/* Date */}\n        {survey.question_type === QuestionType.DATE && (\n          <div>\n            <h3 style={{\n              marginBottom: '1rem',\n              fontSize: '1.125rem',\n              fontWeight: '600',\n              color: '#0f172a'\n            }}>\n              Seleziona una data:\n            </h3>\n            <input\n              type=\"date\"\n              value={dateValue}\n              onChange={(e) => setDateValue(e.target.value)}\n              className=\"form-input\"\n              style={{ fontSize: '1.125rem' }}\n            />\n          </div>\n        )}\n\n        {/* Open Text */}\n        {survey.question_type === QuestionType.OPEN_TEXT && (\n          <div>\n            <h3 style={{\n              marginBottom: '1rem',\n              fontSize: '1.125rem',\n              fontWeight: '600',\n              color: '#0f172a'\n            }}>\n              Scrivi la tua risposta:\n            </h3>\n            <textarea\n              value={textValue}\n              onChange={(e) => setTextValue(e.target.value)}\n              className=\"form-textarea\"\n              placeholder=\"Inserisci qui la tua risposta...\"\n              rows={6}\n            />\n          </div>\n        )}\n\n        {/* Commento (se non è già OPEN_TEXT) */}\n        {survey.question_type !== QuestionType.OPEN_TEXT && (\n          <div style={{ marginTop: '1.5rem' }}>\n            <label style={{\n              display: 'block',\n              fontSize: '0.9375rem',\n              fontWeight: '500',\n              color: '#475569',\n              marginBottom: '0.5rem'\n            }}>\n              Commento {survey.require_comment && <span style={{ color: '#6366f1' }}>(suggerito)</span>}\n            </label>\n            <textarea\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n              className=\"form-textarea\"\n              placeholder={'Aggiungi un commento (opzionale)...'}\n              rows={3}\n            />\n          </div>\n        )}\n\n        {/* Pulsanti */}\n        <div style={{\n          marginTop: '2rem',\n          display: 'flex',\n          gap: '0.5rem',\n          paddingTop: '1.5rem',\n          borderTop: '1px solid #e2e8f0'\n        }}>\n          <button\n            onClick={handleVote}\n            className=\"btn btn-primary\"\n            disabled={voting}\n            style={{ flex: 1 }}\n          >\n            <Vote size={18} />\n            {voting ? 'Votando...' : 'Conferma Voto'}\n          </button>\n\n          <button\n            onClick={() => navigate(`/survey/${survey.id}/results`)}\n            className=\"btn btn-secondary\"\n          >\n            <BarChart2 size={18} />\n            Vedi Risultati\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SurveyDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}